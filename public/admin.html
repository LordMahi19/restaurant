<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant - Staff Admin</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <nav style="flex: 1; display: flex; justify-content: center;">
            <ul style="display: flex; gap: 20px; list-style: none; padding: 0; margin: 0;">
                <li><a href="#" class="active">Admin Dashboard</a></li>
                <li><a href="menu.html" onclick="logout()">Logout</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <!-- Login Section -->
        <div id="login-section" class="admin-dashboard" style="max-width: 400px; margin: 50px auto;">
            <h2 style="text-align: center; margin-bottom: 30px;">Staff Login</h2>
            <form onsubmit="handleLogin(event)">
                <div style="margin-bottom: 20px;">
                    <input type="text" id="username" placeholder="Username" required>
                </div>
                <div style="margin-bottom: 30px;">
                    <input type="password" id="password" placeholder="Password" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Login</button>
            </form>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px;">
                <h1>Menu Management</h1>
                <div style="display: flex; gap: 10px;">
                    <button class="btn" style="background: rgba(255,255,255,0.7); color: #333;"
                        onclick="openManageTagsModal()">üè∑Ô∏è Manage Tags</button>
                    <button class="btn" onclick="openAddCategoryModal()">+ Add Category</button>
                </div>
            </div>

            <!-- Tags Quick View (Optional) -->
            <div id="admin-tags-bar" style="margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px;">
                <!-- Tags injected here -->
            </div>

            <div id="admin-menu-container">
                <!-- Dynamic Content Here -->
            </div>
        </div>
    </main>

    <!-- Add/Edit Item Modal -->
    <div id="item-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <h2 id="modal-title">Add Item</h2>
            <form id="item-form" onsubmit="handleItemSubmit(event)">
                <input type="hidden" id="item-id">
                <input type="hidden" id="item-category">

                <div style="margin-bottom: 15px;">
                    <input type="text" id="item-name" placeholder="Item Name" required>
                </div>
                <div style="margin-bottom: 15px;">
                    <textarea id="item-desc" placeholder="Description" required style="height: 80px;"></textarea>
                </div>
                <div style="margin-bottom: 15px;">
                    <input type="number" id="item-price" placeholder="Price ($)" step="0.01" required>
                </div>
                <div style="margin-bottom: 15px;">
                    <input type="text" id="item-image" placeholder="Image URL (e.g. /images/pizza.jpg)">
                </div>
                <div style="margin-bottom: 25px; position: relative;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 500;">Tags</label>
                    <div id="tags-trigger"
                        style="border: 1px solid #ccc; border-radius: 8px; padding: 10px; cursor: pointer; background: white; min-height: 40px; display: flex; flex-wrap: wrap; gap: 5px; align-items: center;"
                        onclick="openTagsModal()">
                        <span id="selected-tags-display" style="color: #666;">Select Tags...</span>
                    </div>
                    <input type="hidden" id="item-tags">
                </div>

                <div style="display: flex; gap: 10px;">
                    <button type="button" class="btn" onclick="closeItemModal()" style="opacity: 0.7;">Cancel</button>
                    <button type="submit" class="btn" style="flex: 1;">Save Item</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Tags Selection Modal -->
    <div id="tags-modal" class="modal" style="display:none; z-index: 10001;">
        <div class="modal-content" style="max-width: 500px;">
            <h2>Select Tags</h2>
            <div id="tags-grid"
                style="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px 0; max-height: 300px; overflow-y: auto; padding: 5px; justify-content: center;">
                <!-- Tags injected here -->
            </div>
            <button class="btn" style="width: 100%;" onclick="closeTagsModal()">Done</button>
        </div>
    </div>



    <!-- Add Category Modal -->
    <div id="category-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width: 400px;">
            <h2>Add Category</h2>
            <form onsubmit="handleCategorySubmit(event)">
                <div style="margin-bottom: 25px;">
                    <input type="text" id="cat-name" placeholder="Category Name" required>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="button" class="btn" onclick="closeCategoryModal()"
                        style="opacity: 0.7;">Cancel</button>
                    <button type="submit" class="btn" style="flex: 1;">Add Category</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Manage Tags Modal -->
    <div id="manage-tags-modal" class="modal" style="display:none;">
        <div class="modal-content" style="max-width: 450px;">
            <h2>Manage Tags</h2>
            <div style="margin-bottom: 20px;">
                <form id="add-tag-form" onsubmit="handleAddTag(event)" style="display: flex; gap: 10px;">
                    <input type="text" id="new-tag-name" placeholder="New Tag Name" required style="flex: 1;">
                    <button type="submit" class="btn">Add</button>
                </form>
            </div>

            <div id="manage-tags-list" style="max-height: 300px; overflow-y: auto;">
                <!-- Tags List injected here -->
            </div>

            <div style="margin-top: 20px; text-align: right;">
                <button class="btn" style="background: transparent; border: 1px solid #ccc; color: #333;"
                    onclick="closeManageTagsModal()">Close</button>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>

</html>